#!/bin/bash
# Bash Menu Script Example

PS3='Please select your GRID NAME: '
value="$(cat ./file.json)"	# this file data will read from curl request
options="$(echo ${value} | jq '.[] | .GRID_NAME')"

oldIFS=$IFS
IFS=$'\n'
choices=( $options )
IFS=$oldIFS
PS3="Please enter your choice: "
select answer in "${choices[@]}"; do
  for item in "${choices[@]}"; do
    if [[ $item == $answer ]]; then
      break 2
    fi
  done
done
echo $answer

answer=$(echo ${answer//\"/})
IP="$(echo ${value} | jq --arg ans $answer '.[] | select(.GRID_NAME==$ans)|.MASTER_IP')"

IP=$(echo ${IP//\"/})
echo $IP

TOKEN="$(echo ${value} | jq --arg ans $answer '.[] | select(.GRID_NAME==$ans)|.GRID_TOKEN')"

TOKEN=$(echo ${TOKEN//\"/})
echo $TOKEN
